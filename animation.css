/* 确保所有动画元素初始状态都是隐藏的 */
.animate-on-scroll {
  opacity: 0;
}

/* 渐显向上动画 */
.fade-in-up {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 0.4s ease-out forwards;
}

/* 动画延迟 - 保持原设置 */
.delay-1 { animation-delay: 0.1s; }
.delay-2 { animation-delay: 0.3s; }
.delay-3 { animation-delay: 0.5s; }
.delay-4 { animation-delay: 0.7s; }
.delay-5 { animation-delay: 0.9s; }
.delay-6 { animation-delay: 1.1s; }
.delay-7 { animation-delay: 1.3s; }
.delay-8 { animation-delay: 1.5s; }

/* 向上淡入关键帧 */
@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 初始隐藏状态 - 修复：排除所有特定动画类，避免冲突 */
.animate-on-scroll:not(.scale-fade-in):not(.slide-in-left):not(.slide-in-right):not(.fade-in-down):not(.rotate-3d):not(.flip-3d):not(.spin-3d):not(.card-tilt-in-left):not(.text-zoom-in-right):not(.rotate-3d-full) {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.8s ease-out;
}

.animate-on-scroll.visible:not(.scale-fade-in):not(.slide-in-left):not(.slide-in-right):not(.fade-in-down):not(.rotate-3d):not(.flip-3d):not(.spin-3d):not(.card-tilt-in-left):not(.text-zoom-in-right):not(.rotate-3d-full) {
  opacity: 1;
  transform: translateY(0);
}

/* 向左滑入动画 - 修改为更慢的动画 */
.slide-in-left {
  opacity: 0 !important;
  transform: translateX(-300px) !important;
  transition: all 0.8s ease-out;
  animation: none !important; /* 确保没有其他动画干扰 */
}

.slide-in-left.visible {
  opacity: 1 !important;
  transform: translateX(0) !important;
}

/* 为slide-in-left添加延迟类支持 */
.slide-in-left.delay-1 {
  transition-delay: 0.4s;
}

.slide-in-left.delay-2 {
  transition-delay: 0.6s;
}

.slide-in-left.delay-3 {
  transition-delay: 1.0s;
}

.slide-in-left.delay-4 {
  transition-delay: 0.8s;
}

.slide-in-left.delay-5 {
  transition-delay: 1.0s;
}

/* 重置延迟 - 当不可见时移除延迟 */
.slide-in-left:not(.visible) {
  transition-delay: 0s !important;
}

/* 向右滑入动画 - 保持原速度 */
.slide-in-right {
  opacity: 0 !important;
  transform: translateX(300px) !important;
  transition: all 0.4s ease-out;
  animation: none !important;
}

.slide-in-right.visible {
  opacity: 1 !important;
  transform: translateX(0) !important;
}

.slide-in-right:not(.visible) {
  transition-delay: 0s !important;
}

/* 修复:给 scale-fade-in 元素单独设置,避免继承 translateY */
.scale-fade-in {
  opacity: 0;
  transform: scale(0.8);
  animation: scaleFadeIn 1.6s ease forwards;
  animation-play-state: paused;
}

/* 当父容器可见时,启动动画 */
.animate-on-scroll.visible .scale-fade-in {
  animation-play-state: running;
}

/* 当父容器不可见时,重置动画 */
.animate-on-scroll:not(.visible) .scale-fade-in {
  animation-play-state: paused;
  opacity: 0;
  transform: scale(0.8);
}

@keyframes scaleFadeIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* 首页所有元素统一,不要延迟 - 一起1.6s出现 */
.home-content .scale-fade-in {
  animation-delay: 0s;
}

/* 装饰线条使用相同的从中间放大效果 */
.decor-line.scale-fade-in {
  opacity: 0;
  transform: scale(0.8);
  animation: scaleFadeIn 1.6s ease forwards;
  animation-play-state: paused;
}

.animate-on-scroll.visible .decor-line.scale-fade-in {
  animation-play-state: running;
}

.animate-on-scroll:not(.visible) .decor-line.scale-fade-in {
  animation-play-state: paused;
  opacity: 0;
  transform: scale(0.8);
}

/* 向下滑入动画 */
.fade-in-down {
  opacity: 0 !important;
  transform: translateY(-40px) !important;
  transition: all 0.8s ease-out;
  animation: none !important;
}

.fade-in-down.visible {
  opacity: 1 !important;
  transform: translateY(0) !important;
}

.fade-in-down:not(.visible) {
  transition-delay: 0s !important;
}

.scale-out {
  opacity: 0 !important;
  transform: scale(0.3) !important;
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  animation: none !important;
}

.scale-out.visible {
  opacity: 1 !important;
  transform: scale(1) !important;
}

.scale-out:not(.visible) {
  transition-delay: 0s !important;
}

/* ========== 图片专用 3D 旋转特效 ========== */
/* 图片3D旋转容器 */
img.image-3d-rotate,
.image-3d-rotate img {
  opacity: 0 !important;
  transform: perspective(1000px) rotateY(-90deg) scale(1.4) !important;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transition-delay: 0.3s;
  transform-origin: center;
  border-radius: 8px;
  animation: none !important;
}

/* 图片3D旋转显示状态 */
img.image-3d-rotate.visible,
.image-3d-rotate.visible img {
  opacity: 1 !important;
  transform: perspective(1000px) rotateY(0deg) scale(1) !important;
}

/* 重置图片3D旋转延迟 */
img.image-3d-rotate:not(.visible),
.image-3d-rotate:not(.visible) img {
  transition-delay: 0s !important;
}

/* 图片悬浮3D效果 */
img.image-3d-rotate:hover,
.image-3d-rotate img:hover {
  transform: perspective(1000px) rotateY(5deg) rotateX(5deg) scale(1.05) !important;
  transition-delay: 0s !important;
}

/* ========== Culture 特效（新增） ========== */
/* 左卡片组整体进入：带倾斜翻转 + 缩放 */
.card-tilt-in-left {
  opacity: 0 !important;
  transform: perspective(1000px) translateX(-120px) rotateY(25deg) scale(0.9) !important;
  transform-origin: left center;
  transition: all 1.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.card-tilt-in-left.visible {
  opacity: 1 !important;
  transform: perspective(1000px) translateX(0) rotateY(0deg) scale(1) !important;
}

/* 卡片单独延迟进入 */
.culture-card {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease-out;
}

.card-tilt-in-left.visible .culture-card:nth-child(1) {
  transition-delay: 0.2s;
  opacity: 1;
  transform: translateY(0);
}

.card-tilt-in-left.visible .culture-card:nth-child(2) {
  transition-delay: 0.4s;
  opacity: 1;
  transform: translateY(0);
}

.card-tilt-in-left.visible .culture-card:nth-child(3) {
  transition-delay: 0.6s;
  opacity: 1;
  transform: translateY(0);
}

.card-tilt-in-left.visible .culture-card:nth-child(4) {
  transition-delay: 0.8s;
  opacity: 1;
  transform: translateY(0);
}

/* 右侧文字缩放滑入 */
.text-zoom-in-right {
  opacity: 0 !important;
  transform: translateX(100px) translateY(30px) scale(0.8) !important;
  transition: all 1.2s cubic-bezier(0.23, 1, 0.32, 1);
}

.text-zoom-in-right.visible {
  opacity: 1 !important;
  transform: translateX(0) translateY(0) scale(1) !important;
}

.text-zoom-in-right.delay-1 {
  transition-delay: 0.3s;
}

.text-zoom-in-right.delay-2 {
  transition-delay: 0.6s;
}

.text-zoom-in-right.delay-3 {
  transition-delay: 0.9s;
}

/* ========== Culture 内容缩放渐显特效（类似 home 的 scale-fade-in） ========== */
.culture-scale-fade {
  opacity: 0 !important;
  transform: scale(0.8) !important;
  transition: all 1.6s ease;
  animation: none !important;
}

.culture-scale-fade.visible {
  opacity: 1 !important;
  transform: scale(1) !important;
}

.culture-scale-fade:not(.visible) { 
  transition-delay: 0s !important; 
}

/* 为 culture 标题和描述添加渐进延迟 - 精确控制 */
.culture-scale-fade.delay-1.visible {
  transition-delay: 0.1s !important;
}

.culture-scale-fade.delay-2.visible {
  transition-delay: 0.2s !important;
}

.culture-scale-fade.delay-3.visible {
  transition-delay: 0.3s !important;
}

.culture-scale-fade.delay-4.visible {
  transition-delay: 0.4s !important;
}

.culture-scale-fade.delay-5.visible {
  transition-delay: 0.5s !important;
}

.culture-scale-fade.delay-6.visible {
  transition-delay: 0.6s !important;
}

.culture-scale-fade.delay-7.visible {
  transition-delay: 0.7s !important;
}

.culture-scale-fade.delay-8.visible {
  transition-delay: 0.8s !important;
}

.culture-scale-fade.delay-9.visible {
  transition-delay: 0.9s !important;
}

.culture-scale-fade.delay-10.visible {
  transition-delay: 1.0s !important;
}

/* 360度3D旋转进场 */
.rotate-3d-full {
  opacity: 0 !important;
  transform: perspective(1000px) rotateY(360deg) scale(0.6) !important;
  transition: all 1s cubic-bezier(0.25, 0.8, 0.25, 1);
  transform-origin: center;
  transform-style: preserve-3d;
}
.rotate-3d-full.visible {
  opacity: 1 !important;
  transform: perspective(1000px) rotateY(0deg) scale(1) !important;
}
.rotate-3d-full:not(.visible) { 
  transition-delay: 0s !important; 
}

.rotate-3d-full.delay-1 { transition-delay: 0.2s; }
.rotate-3d-full.delay-2 { transition-delay: 0.4s; }
.rotate-3d-full.delay-3 { transition-delay: 0.6s; }

/* ========== 灯光扫描特效 ========== */
/* 新增：灯光扫描效果 */
.light-scan-text {
  position: relative;
  overflow: hidden;
  background: linear-gradient(
    90deg,
    transparent 0%,
    transparent 30%,
    rgba(255, 255, 255, 0.8) 50%,
    transparent 70%,
    transparent 100%
  );
  background-size: 200% 100%;
  background-position: -100% 0;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: lightScan 2s ease-in-out;
  animation-delay: 1.8s; /* 在scale-fade-in完成后开始 */
  animation-fill-mode: forwards;
}

/* 在扫描前保持原有文字颜色 */
.light-scan-text::before {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparent;
  -webkit-text-fill-color: inherit;
  color: inherit;
  z-index: -1;
  animation: hideOriginalText 0.1s ease forwards;
  animation-delay: 1.8s;
}

@keyframes lightScan {
  0% {
    background-position: -100% 0;
    -webkit-text-fill-color: transparent;
  }
  50% {
    background-position: 100% 0;
    -webkit-text-fill-color: transparent;
  }
  100% {
    background-position: 200% 0;
    -webkit-text-fill-color: inherit; /* 恢复原有颜色 */
  }
}

@keyframes hideOriginalText {
  to {
    opacity: 0;
  }
}

/* 增强版灯光扫描效果（更亮的光束） */
.light-scan-enhanced {
  position: relative;
  overflow: hidden;
}

.light-scan-enhanced::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    transparent 20%,
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 0.3) 70%,
    transparent 80%,
    transparent 100%
  );
  animation: lightSweep 2.5s ease-in-out;
  animation-delay: 1.8s;
  animation-fill-mode: forwards;
  pointer-events: none;
  mix-blend-mode: overlay;
}

@keyframes lightSweep {
  0% {
    left: -100%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

/* 豪华版灯光扫描 - 多层光效 */
.light-scan-luxury {
  position: relative;
  overflow: hidden;
}

/* 主光束 */
.light-scan-luxury::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -150%;
  width: 80px;
  height: calc(100% + 4px);
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 10%,
    rgba(255, 255, 255, 0.6) 50%,
    rgba(255, 255, 255, 0.1) 90%,
    transparent 100%
  );
  animation: luxuryLightScan 2.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  animation-delay: 1.8s;
  animation-fill-mode: forwards;
  pointer-events: none;
  transform: skewX(-20deg);
  filter: blur(1px);
}

/* 次光束 */
.light-scan-luxury::after {
  content: '';
  position: absolute;
  top: 0;
  left: -120%;
  width: 40px;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.9) 50%,
    transparent 100%
  );
  animation: luxuryLightScan 2.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  animation-delay: 1.9s;
  animation-fill-mode: forwards;
  pointer-events: none;
  transform: skewX(-20deg);
  mix-blend-mode: overlay;
}

@keyframes luxuryLightScan {
  0% {
    left: -150%;
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  85% {
    opacity: 1;
  }
  100% {
    left: calc(100% + 50px);
    opacity: 0;
  }
}

/* 专门为标题设计的扫描效果 */
.title-light-scan {
  position: relative;
  overflow: hidden;
}

.title-light-scan::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -200px;
  width: 120px;
  height: calc(100% + 10px);
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.05) 20%,
    rgba(255, 255, 255, 0.3) 40%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 0.3) 60%,
    rgba(255, 255, 255, 0.05) 80%,
    transparent 100%
  );
  animation: titleLightScan 3s ease-out;
  animation-delay: 1.8s;
  animation-fill-mode: forwards;
  pointer-events: none;
  transform: skewX(-15deg);
  mix-blend-mode: overlay;
}

@keyframes titleLightScan {
  0% {
    left: -200px;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    left: calc(100% + 100px);
    opacity: 0;
  }
}

/* 光束扫描动画 */
@keyframes scan-light {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* h1 的淡入缩放 + 光束扫描效果 */
.home-content h1.scale-fade-in {
  background: linear-gradient(120deg, #ffffff 30%, #FFD700 50%, #ffffff 70%);
  background-size: 200% 100%;
  background-repeat: no-repeat;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: scaleFadeIn 1.6s ease forwards, scan-light 2.5s linear infinite;
  animation-play-state: paused;
}

/* 响应式下禁用光束扫描动画（可选） */
@media (max-width: 768px) {
  .home-content h1.scale-fade-in {
    animation: scaleFadeIn 1.6s ease forwards !important;
    background: none !important;
    -webkit-text-fill-color: inherit !important;
  }
}
